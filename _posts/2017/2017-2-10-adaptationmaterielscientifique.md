---
layout: post
title: Tuto/Science - Comment les fabricants de matériels s'adaptent à la fin de l'hégémonie Windows?
category: tuto
tags: Geekeries, informatique, logiciel libre, mesure, Réflexion, science, tutoriel, Tutoriel
---
**Je vais m'essayer un peu plus à la vulgarisation scientifique, dans mon milieu (la mesure) et je commence par parler d'une tendance de fond depuis quelques années. **

**Avant**, lorsqu'on avait un matériel de mesure, qu'il soit électrique (générateur, centrale d'acquisition, par exemple), d'analyse chimique ou autre, on avait souvent un joli CD avec le pilote et le logiciel Windows, voir même DOS pour l'exploiter. Plus rarement, y avait-il un logiciel Mac (sauf ce qui touchait à l'imagerie) et encore moins des versions pour GNU/Linux. J'ai juste souvenir d'environnements Unix purs et durs sinon pour des gros systèmes d'acquisition. L'interface physique était souvent le <a href="https://fr.wikipedia.org/wiki/RS-232">port série</a> (RS 232 ou RS 485 pour les intimes) voir le <a href="https://fr.wikipedia.org/wiki/IEEE-488">GPIB/HPIB</a> (IEEE 488 pour les intimes), un truc qu'on apprenait à l'école dans mon domaine il y a 20 ans. Mais d'un coté, il fallait avoir de quoi relier ce fameux IEEE, et de l'autre un port série, ce qui a aujourd'hui disparu de tous nos ordinateurs.

Les constructeurs de matériels ont mis beaucoup de temps à **passer à l'USB** et certains continuent de contourner le problème à travers un convertisseur USB/RS232. On en trouve des tonnes avec des pilotes parfois très bricolés et ça ne tourne souvent que sous Windows. Et puis certains ont simplement regardé ce qui était posé à coté de leur serveur : Un routeur par exemple ou une box internet, sur lequel on se connecte via une prise réseau/Ethernet sur ce que l'on peut appeler un "microserveur", c'est à dire une interface web de configuration qui s'ouvre dans son navigateur internet. Avec la miniaturisation des composants et le progrès, il est possible aujourd'hui d'intégrer ce type de microsystème de gestion pour beaucoup plus de matériels. C'est le cas par exemple pour les matériels embarqués pour les contrôles de pollution à venir pour l'homologation des voitures.

![image](https://filedn.eu/llqi9IBxlYouGRXYG2xlROb/img/2017/routeurinterface.jpg)

Ainsi, dans le domaine de l'analyse, de l'acquisition de données, on passe souvent par **l'interface ethernet** sur des matériels qui tournent de manière autonome, sans PC relié, avec un stockage de données interne. Qu'importe ensuite, quand c'est bien fait, le système d'exploitation du PC, l'interface est la même. Le micrologiciel est parfois basé sur un GNU/Linux, ou des systèmes temps réels comme QNX. Quand c'est mal fait, on peut avoir des problèmes avec les versions de Java. Mais il y a un hic : Le PC portable que l'on utilise sert souvent aussi à aller sur un réseau d'entreprise, parfois via un <a href="https://fr.wikipedia.org/wiki/Réseau_privé_virtuel">VPN,</a> un proxy...Et impossible de se connecter au matériel en tapant une simple adresse IP du genre 192.168.0.1. Tous les utilisateurs ne savent pas configurer "à la main" cette connexion réseau. **Il suffit parfois de couper le Wifi du PC** (par un petit bouton de raccourci) et de changer la configuration de l'ethernet, seulement. Ou alors on voit subsister autre chose.

Il s'agit **d'interfaces USB très basiques** vers un RS485, ou un <a href="https://fr.wikipedia.org/wiki/EIA-422">RS422</a>. Ce petit boitier grand comme une boite d'allumette va faire une transcription simple des données et évite d'avoir le cable Ethernet utilisé. Par contre, il faut veiller à ce que le fabricant dispose de pilotes pour son système, ce qui heureusement, est aussi dans la tendance.... pour les constructeurs sérieux. Car on assiste aussi à du rebadgeage de grandes marques de l'acquisition de données, du genre National Instrument, par exemple, quand ce n'est pas carrément de la copie made in China. Attention donc à regarder le pilote avant l'achat, ou l'interface. Le français est souvent oublié, mais ça, on a l'habitude. On trouve malheureusement des interfaces à foison dans les catalogues spécialisés mais qui ont une espérance de vie très courte en terme de support.

Évidemment, le plus simple est d'avoir **une machine dédiée à cette activité** "mesure" ou "analyse". Car on peut aussi se méfier de ce que peut faire le matériel à notre insu. On ne rencontre plus vraiment de bluetooth aujourd'hui comme j'ai pu en voir il y a 10 ou 15 ans. Mais attention, certains commencent à penser aux tablettes... au moment où la mode passe. Car si on se contente d'un affichage ou d'une configuration, pourquoi pas. Mais pour ce qui est de la récupération de données dans un format ouvert (attention là encore aux versions, standards...), et leur analyse, l'interface web a très vite des limites. Il y a de gros fichiers à traiter et parfois on se retrouve avec des formats très fermés, histoire de vendre de l'option. Et là, devinez sous quoi tourne le logiciel ? Windows bien sûr. Il y a encore bien du chemin pour imposer les systèmes et standards ouverts et libres.

![image](https://filedn.eu/llqi9IBxlYouGRXYG2xlROb/img/2017/usbrs.gif)

Car là, par exemple, dans la boîte où je travaille, nous nous retrouvons à tenter d'écrire **un "pilote générique"** pour un gros système d'acquisition qui permette d'utiliser en lecture une large panoplie de matériels en interface RS232 (une trame de 16 caractères <a href="https://fr.wikipedia.org/wiki/American_National_Standards_Institute">Ansi</a> la plupart du temps). Je me suis retrouvé à utiliser un clone d'<a href="https://fr.wikipedia.org/wiki/HyperTerminal">hyperterminal</a> comme <a href="https://fr.wikipedia.org/wiki/PuTTY">PuTTY</a> pour "attraper" les trames d'information. Évidemment, c'est quelque chose qui permettra peut-être une réduction future sur un nouvel achat, pour le fabricant du matériel d'acquisition mais surtout qui ouvre une infinité de possibilités pour nous . Beaucoup ont sans doute choisi de rester sur une conversion par matériel, un pc de plus pour ça, etc etc... Tout cela aurait été tellement simple si chacun avait convergé vers un standard, une interface physiquement compatible (car le RS232 est une jungle). C'est aussi parce qu'une fois de plus, les développeurs et constructeurs de matériels sont formatés par ce qu'ils ont appris à l'école, ce que Microsoft par exemple a réussi à vendre comme environnement de développement, et reproduisent ces schémas. L'interface web est une heureuse mode mais pour vraiment que ça change, il va falloir convaincre que l'ouverture des standards est un "plus produit". Aux clients comme moi de jouer aux lobbyistes.
